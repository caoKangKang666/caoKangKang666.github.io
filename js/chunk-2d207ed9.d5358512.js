(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d207ed9"],{a32c:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-list",{attrs:{finished:e.finished,"immediate-check":!1,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.Movielist,(function(t){return n("ListItem",{key:t.filmId,attrs:{itemData:t},nativeOn:{click:function(n){return e.goDetail(t.filmId)}}})})),1)],1)},i=[],o=n("2909"),r=n("1da1"),s=(n("99af"),n("96cf"),n("af40")),c={name:"NowPlaying",components:{ListItem:s["a"]},data:function(){return{loading:!1,finished:!1,total:0,Movielist:[],pageNum:1}},mounted:function(){this.getMoviesList()},methods:{getMoviesList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.GetNowPlayingMovie(e.pageNum);case 2:n=t.sent,e.Movielist=n.data.films,e.total=n.data.total;case 5:case"end":return t.stop()}}),t)})))()},goDetail:function(e){this.$router.push({name:"Detail",params:{id:e}})},onLoad:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.Movielist.length!==e.total||0===e.total){t.next=3;break}return e.finished=!0,t.abrupt("return");case 3:return e.pageNum++,t.next=6,e.$api.GetNowPlayingMovie(e.pageNum);case 6:n=t.sent,e.Movielist=[].concat(Object(o["a"])(e.Movielist),Object(o["a"])(n.data.films)),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()}}},u=c,l=n("2877"),d=Object(l["a"])(u,a,i,!1,null,"ee05b652",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d207ed9.d5358512.js.map